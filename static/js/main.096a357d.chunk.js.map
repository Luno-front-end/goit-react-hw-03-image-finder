{"version":3,"sources":["components/Searchbar.js","components/ImageGalleryItem.js","components/ImageGallery.js","components/Modal.js","components/Loader.js","components/Button.js","App.js","index.js"],"names":["Searchbar","state","nameImage","onValueInput","e","setState","currentTarget","value","toLowerCase","onSubmitFetch","preventDefault","trim","props","onSubmit","toast","error","keySearch","shortid","generate","className","this","type","id","autoComplete","autoFocus","placeholder","name","onChange","Component","ImageGalleryItem","webformatURL","tags","largeImageURL","onClick","src","alt","ImageGallery","arrayImages","map","Modal","exitModal","code","onClose","console","log","window","addEventListener","removeEventListener","modalRoot","document","querySelector","createPortal","children","App","color","height","width","Button","Finder","imagesArray","loading","selectedImage","page","showModal","newImagesArray","imagesFech","fetch","then","r","json","imagesArrayFetch","op","hits","incrementPage","finally","prevState","togleModal","hendleFormaSubmit","isCurrentImage","currentImage","onClickLoadMore","prevProps","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.096a357d.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport shortid from \"shortid\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport \"../styles/styles.css\";\r\n\r\n// import FetchAPI from \"./FetchAPI\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    nameImage: \"\",\r\n  };\r\n\r\n  onValueInput = (e) => {\r\n    // const { name, value } = e.currentTarget;\r\n    // this.setState({ [name]: value });\r\n    this.setState({ nameImage: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  onSubmitFetch = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.nameImage.trim() === \"\") {\r\n      toast.error(\"Введіть будь ласка ім'я картинок.\");\r\n\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.nameImage.trim());\r\n    this.setState({ nameImage: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const keySearch = shortid.generate();\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.onSubmitFetch}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Пошук</span>\r\n          </button>\r\n          <input\r\n            id={keySearch}\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Пошук зображень та фото\"\r\n            name=\"name\"\r\n            value={this.state.nameImage}\r\n            onChange={this.onValueInput}\r\n          />\r\n        </form>\r\n      </header>\r\n      //   <form>\r\n      //     <label htmlFor={keySearch}>Пошук</label>\r\n      //     <input id={keySearch}></input>\r\n      //   </form>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nimport \"../styles/styles.css\";\r\n\r\nexport default function ImageGalleryItem({\r\n  webformatURL,\r\n  tags,\r\n  largeImageURL,\r\n  onClick,\r\n}) {\r\n  return (\r\n    <li\r\n      onClick={() => onClick(largeImageURL, tags)}\r\n      className=\"ImageGalleryItem\"\r\n    >\r\n      <img src={webformatURL} alt={tags} className=\"ImageGalleryItem-image\" />\r\n      {/* {console.log(id)} */}\r\n    </li>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport \"../styles/styles.css\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem\";\r\n\r\nexport default function ImageGallery({ arrayImages, onSubmit }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {arrayImages.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          webformatURL={webformatURL}\r\n          tags={tags}\r\n          largeImageURL={largeImageURL}\r\n          onClick={onSubmit}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nimport \"../styles/styles.css\";\r\n\r\nexport default class Modal extends Component {\r\n  // openModal = () => {\r\n  //   console.log();\r\n  // };\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.exitModal);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.exitModal);\r\n  }\r\n  exitModal = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n    console.log(e.code);\r\n  };\r\n  render() {\r\n    const modalRoot = document.querySelector(\"#modal-root\");\r\n\r\n    return createPortal(\r\n      <div className=\"Overlay\">\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport \"../styles/styles.css\";\r\n\r\nexport default class App extends Component {\r\n  //other logic\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"loader\">\r\n          <Loader\r\n            type=\"BallTriangle\"\r\n            color=\"#00BFFF\"\r\n            height={200}\r\n            width={200}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nimport \"../styles/styles.css\";\r\n\r\nfunction Button({ children, onClick }) {\r\n  return <button onClick={onClick}>{children}</button>;\r\n  // window.scrollTo({\r\n  //   top: document.documentElement.scrollHeight,\r\n  //   behavior: \"smooth\",\r\n  // });\r\n}\r\nexport default Button;\r\n","import React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGalleryItem from \"./components/ImageGallery\";\nimport Modal from \"./components/Modal\";\nimport Loader from \"./components/Loader\";\nimport Button from \"./components/Button\";\nimport \"./styles/styles.css\";\n\nexport default class Finder extends Component {\n  state = {\n    nameImage: \"\",\n    imagesArray: null,\n    loading: false,\n    selectedImage: null,\n    page: 1,\n    showModal: false,\n    newImagesArray: null,\n  };\n\n  // newimagesArray = [];\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.nameImage !== this.state.nameImage) {\n      this.imagesFech();\n    }\n  }\n  // componentDidMount() {\n  //   if (this.state.imagesArray !== null) {\n  //     this.setState((prevState) => ({\n  //       imagesArray: [...prevState, ...this.state.newImagesArray],\n  //     }));\n  //   }\n  // }\n  // componentWillUnmount() {\n  //   console.log(\"все\");\n  // }\n  imagesFech = () => {\n    const KEY = \"key=19055497-436f2f9143aedeb9fa32eebb3\";\n    const GENERAL_LINK = \"https://pixabay.com/api/\";\n    this.setState({ loading: true });\n\n    fetch(\n      `${GENERAL_LINK}?${KEY}&q=${this.state.nameImage}&page=${this.state.page}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n      .then((r) => r.json())\n      .then((imagesArrayFetch) => this.op(imagesArrayFetch.hits))\n      .then(this.incrementPage())\n      .finally(() => this.setState({ loading: false }));\n  };\n  // (imagesArrayFetch) => this.op(imagesArrayFetch.hits)\n\n  op = (imagesArrayFetch) => {\n    if (this.state.imagesArray !== null) {\n      this.setState((prevState) => ({\n        newImagesArray: [...prevState.imagesArray, ...imagesArrayFetch],\n      }));\n    }\n\n    if (this.state.imagesArray === null) {\n      this.setState({\n        imagesArray: imagesArrayFetch,\n      });\n    }\n    // if (this.state.imagesArray !== null) {\n    //   this.setState({\n    //     imagesArray: imagesArrayFetch,\n    //   });\n    //   this.setState({\n    //     newImagesArray: [\n    //       ...this.state.newImagesArray,\n    //       ...this.state.imagesArray,\n    //     ],\n    //   });\n    // }\n    // if (this.state.imagesArray === null) {\n    //   this.setState({\n    //     imagesArray: imagesArrayFetch,\n    //   });\n    //   this.setState({\n    //     newImagesArray: this.state.imagesArray,\n    //   });\n\n    //   // console.log(\"gfaegf\");\n    // }\n  };\n\n  togleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  incrementPage = () => {\n    this.setState({ page: this.state.page + 1 });\n  };\n\n  hendleFormaSubmit = (nameImage) => {\n    this.setState({ nameImage });\n  };\n\n  isCurrentImage = (currentImage, tags) => {\n    console.log(currentImage);\n    console.log(tags);\n    this.setState({\n      selectedImage: [currentImage, tags],\n      showModal: true,\n    });\n  };\n\n  onClickLoadMore = (e) => {\n    // console.log(e.target);\n\n    this.imagesFech();\n    // const newImagesArray = [\"lel\"];\n\n    // const lol = [...this.state.imagesArray, ...this.state.newImagesArray];\n    this.op();\n    //   setState((prevState) => ({\n    //   newImagesArray: [...prevState.imagesArray, ...this.state.newImagesArray],\n    // }));\n    // console.log(lol);\n  };\n\n  render() {\n    // const newImagesArray = [];\n\n    const {\n      loading,\n      showModal,\n      nameImage,\n      imagesArray,\n      newImagesArray,\n      selectedImage,\n    } = this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.hendleFormaSubmit} />\n        {loading && <Loader />}\n        {!nameImage && (\n          <p>Відсутнє ім'я! Будь ласка введіть його в поле яке вище.</p>\n        )}\n        {imagesArray && (\n          <ImageGalleryItem\n            arrayImages={imagesArray}\n            onSubmit={this.isCurrentImage}\n          />\n        )}\n        {showModal && (\n          <Modal onClose={() => this.togleModal()}>\n            <img src={selectedImage[0]} alt={selectedImage[1]} />\n          </Modal>\n        )}\n        <ToastContainer autoClose={3000} />\n        <Button onClick={this.onClickLoadMore}>Завантажити ще</Button>\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport Finder from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Finder />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}